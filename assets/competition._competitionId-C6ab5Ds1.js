import{R as C,e as R,r as V,t as i,p as t,c as e,S as u,v as H,w as B,F as f,L,h as A}from"./main-BqNCW6Oc.js";import{l as E,B as T,f as j,g as P,h as v,i as F,k as p,j as N}from"./table-VDLI2UgR.js";import"../entryPoint.js";import"./index-o-WvA1Gw.js";var U=i("<div>Loading competitionâ€¦"),q=i("<div class=text-red-600>Error loading competition"),D=i('<div class="p-4 space-y-6">'),M=i('<nav class="flex flex-wrap items-center gap-2 text-sm text-muted-foreground">'),z=i('<div class="flex flex-wrap gap-3">'),G=i('<div class="flex flex-wrap gap-2">'),J=i('<div class=space-y-6><div class="overflow-hidden rounded-lg border bg-card"><div class="space-y-4 p-4"><div class="flex flex-wrap items-center gap-2"><h1 class="text-2xl font-semibold"></h1></div><div class="flex flex-wrap items-center gap-x-6 gap-y-2 text-sm text-muted-foreground">'),K=i('<div class="h-48 w-full bg-cover bg-center"role=presentation>'),O=i("<span aria-hidden=true class=text-muted-foreground>/"),Q=i('<span class="flex items-center gap-2">'),S=i("<span>"),W=i("<span>Starts "),X=i('<span class="flex items-center gap-1">Course:<span class="font-medium text-foreground">'),Y=i("<span>Location: "),Z=i('<div class="rounded-md bg-muted px-3 py-2 text-sm text-muted-foreground">'),ee=i('<div class="rounded-lg border bg-muted/40 p-4"><div class="text-sm font-medium text-muted-foreground">Par values</div><div class="mt-2 flex flex-wrap gap-3 text-sm">'),te=i("<div class=space-y-4>"),re=i('<div class="flex flex-col items-center gap-1"><span class="text-xs text-muted-foreground">H</span><span class=font-medium>'),le=i('<div class="flex flex-col items-center gap-1 font-semibold"><span class="text-xs text-muted-foreground">Total</span><span>'),ne=i('<div class="overflow-hidden rounded-lg border"><div class="flex flex-wrap items-center justify-between gap-2 border-b px-4 py-3"><h2 class="text-lg font-semibold"></h2><div class="text-sm text-muted-foreground">Players: ');function me(){const l=C.useParams(),d=C.useSearch(),c=C.useNavigate(),x=R(()=>d().view??"result"),h=V(()=>({id:l().competitionId,view:x()})),g=a=>{c({to:C.to,params:l(),search:n=>({...n??{},view:a&&a!=="result"?a:void 0})})};return(()=>{var a=D();return t(a,e(u,{get when(){return h.isLoading},get children(){return U()}}),null),t(a,e(u,{get when(){return h.isError},get children(){return q()}}),null),t(a,e(u,{get when(){return h.data},keyed:!0,children:n=>(()=>{var o=J(),w=o.firstChild,$=w.firstChild,b=$.firstChild,I=b.firstChild,k=b.nextSibling;return t(w,e(u,{get when(){return n.coverImagePath},keyed:!0,children:s=>(()=>{var r=K();return H(_=>B(r,"background-image",`url(${de(s)})`)),r})()}),$),t($,e(u,{get when(){return n.breadcrumbs.length},get children(){var s=M();return t(s,e(f,{get each(){return n.breadcrumbs},children:(r,_)=>(()=>{var m=Q();return t(m,e(u,{get when(){return r.competitionId},keyed:!0,get fallback(){return(()=>{var y=S();return t(y,()=>r.label),y})()},children:y=>e(L,{to:"/competition/$competitionId",params:{competitionId:y},class:"text-primary hover:underline",get children(){return r.label}})}),null),t(m,e(u,{get when(){return _()<n.breadcrumbs.length-1},get children(){return O()}}),null),m})()})),s}}),b),t(I,()=>n.name),t(b,e(u,{get when(){return n.parent},keyed:!0,children:s=>e(E,{variant:"outline",class:"text-sm font-normal",get children(){return e(ae,{parent:s})}})}),null),t(k,e(u,{get when(){return n.startLabel},keyed:!0,children:s=>(()=>{var r=W();return r.firstChild,t(r,s,null),r})()}),null),t(k,e(u,{get when(){return n.course},keyed:!0,children:s=>(()=>{var r=X(),_=r.firstChild,m=_.nextSibling;return t(m,()=>s.name),r})()}),null),t(k,e(u,{get when(){return n.location},keyed:!0,children:s=>(()=>{var r=Y();return r.firstChild,t(r,s,null),r})()}),null),t($,e(u,{get when(){return n.actions.length},get children(){var s=z();return t(s,e(f,{get each(){return n.actions},children:r=>e(T,{type:"button",get variant(){return r.type==="register"?"default":"outline"},disabled:!0,title:"Action handled in upcoming release",get children(){return r.label}})})),s}}),null),t($,e(u,{get when(){return n.comment},keyed:!0,children:s=>(()=>{var r=Z();return t(r,s),r})()}),null),t(o,e(u,{get when(){return n.tabs.length},get children(){var s=G();return t(s,e(f,{get each(){return n.tabs},children:r=>{const m=(r.view??"result")===x();return e(T,{type:"button",variant:m?"default":"outline",class:"h-9 px-3","aria-pressed":m,onClick:()=>g(r.view),get children(){return r.label}})}})),s}}),null),t(o,e(u,{get when(){return n.results},keyed:!0,children:s=>e(se,{results:s})}),null),o})()}),null),a})()}function ae(l){const d=`Part of ${l.parent.name}`;return l.parent.competitionId?e(L,{to:"/competition/$competitionId",get params(){return{competitionId:l.parent.competitionId}},class:"text-primary hover:underline",children:d}):(()=>{var c=S();return t(c,d),c})()}function se(l){return(()=>{var d=te();return t(d,e(u,{get when(){return l.results.par.length},get children(){var c=ee(),x=c.firstChild,h=x.nextSibling;return t(h,e(f,{get each(){return l.results.par},children:(g,a)=>(()=>{var n=re(),o=n.firstChild;o.firstChild;var w=o.nextSibling;return t(o,()=>a()+1,null),t(w,g||"-"),n})()}),null),t(h,e(u,{get when(){return l.results.totalPar},keyed:!0,children:g=>(()=>{var a=le(),n=a.firstChild,o=n.nextSibling;return t(o,g),a})()}),null),c}}),null),t(d,e(f,{get each(){return l.results.divisions},children:c=>e(ie,{division:c,get parValues(){return l.results.par}})}),null),d})()}function ie(l){const d=4+l.parValues.length+2;return(()=>{var c=ne(),x=c.firstChild,h=x.firstChild,g=h.nextSibling;return g.firstChild,t(h,()=>l.division.name),t(g,()=>l.division.playerCount??l.division.players.length,null),t(c,e(N,{class:"min-w-[720px]",get children(){return[e(j,{get children(){return e(P,{get children(){return[e(v,{class:"w-14",children:"Pos"}),e(v,{children:"Player"}),e(v,{class:"w-16 text-right",children:"+/-"}),e(v,{class:"w-20 text-right",children:"Played"}),e(f,{get each(){return l.parValues},children:(a,n)=>e(v,{class:"w-12 text-center",get children(){return["H",A(()=>n()+1)]}})}),e(v,{class:"w-20 text-right",children:"Total +/-"}),e(v,{class:"w-20 text-right",children:"Total"})]}})}}),e(F,{get children(){return e(u,{get when(){return l.division.players.length},get fallback(){return e(P,{get children(){return e(p,{colSpan:d,class:"text-center text-sm text-muted-foreground",children:"No players for this view yet."})}})},get children(){return e(f,{get each(){return l.division.players},children:a=>e(P,{get children(){return[e(p,{class:"text-muted-foreground",get children(){return a.position||"-"}}),e(p,{get children(){return e(ue,{player:a})}}),e(p,{class:"text-right",get children(){return a.initialToPar||"-"}}),e(p,{class:"text-right",get children(){return a.playedHoles||"-"}}),e(f,{get each(){return l.parValues},children:(n,o)=>e(p,{class:"text-center",get children(){return a.scores[o()]||"-"}})}),e(p,{class:"text-right",get children(){return a.totalToPar||"-"}}),e(p,{class:"text-right",get children(){return a.total||"-"}})]}})})}})}})]}}),null),c})()}function ue(l){return(()=>{var d=S();return t(d,()=>l.player.name),d})()}function de(l){try{return new URL(l,"https://discgolfmetrix.com").toString()}catch{return l}}export{me as component};
